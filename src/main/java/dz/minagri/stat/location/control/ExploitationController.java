package dz.minagri.stat.location.control;

import dz.minagri.stat.location.entity.Exploitation;
import dz.minagri.stat.location.service.ExploitationService;
import lombok.AllArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.*;

import java.util.Collection;
import java.util.Optional;

@RestController
@RequestMapping("/exploitation")
@AllArgsConstructor
@Slf4j
public class ExploitationController {
    private final ExploitationService exploitationService;

    @PostMapping("/save")
    public Exploitation saveExploitation(@RequestBody Exploitation exploitation){
        log.info("Inside saveExploitation method of ExploitationController");
        return exploitationService.save(exploitation);

    }
  /**
   * @PostMapping("/{id}/update") public Optional<Zone> updateZone(@PathVariable("id") Long zoneId){
   * log.info("Inside updateZone method of ZoneController");
   * Zone zone = zoneService.findZoneById(zoneId).get();
   * return zoneService.save(zone);
   * <p>
   * }
   */

    @GetMapping("/{id}")
    public Optional<Exploitation> findWilayaById(@PathVariable("id") Long Id){
        log.info("Inside findExploitationById method of ExploitationController");
        return exploitationService.findExploitationById(Id);
    }

    @GetMapping("list/{limit}")
    public Collection<Exploitation> getExploitation(@PathVariable("limit") int limit) {
        log.info("Inside List method of ExploitationController");
        return exploitationService.List(limit);
    }
}
